<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/favicon.ico"><link rel="icon" href="/favicon.ico"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="author" content="Jiecs"><meta name="keywords" content=""><meta name="description" content="简介优点Telegram 提供有一个 Instant View 功能，会在支持的网站的链接预览下面显示一个 Instant View 的按钮，中文一般叫即时预览，就是这个  点开之后能瞬间看到文章全部内容，没有任何等待，图片加载和格式也十分优雅。不需要跳转到浏览器，等待浏览器启动，再加载网页之类的，所有内容缓存在 Telegram 服务器上。体验连贯很多。只是浏览内容一定程度上也比打开网络更安全"><meta property="og:type" content="article"><meta property="og:title" content="Telegram Instant View 即时预览适配"><meta property="og:url" content="https://www.jiecs.top/archives/47708b20/index.html"><meta property="og:site_name" content="杰出兽的小宇宙"><meta property="og:description" content="简介优点Telegram 提供有一个 Instant View 功能，会在支持的网站的链接预览下面显示一个 Instant View 的按钮，中文一般叫即时预览，就是这个  点开之后能瞬间看到文章全部内容，没有任何等待，图片加载和格式也十分优雅。不需要跳转到浏览器，等待浏览器启动，再加载网页之类的，所有内容缓存在 Telegram 服务器上。体验连贯很多。只是浏览内容一定程度上也比打开网络更安全"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.jiecs.top/img/2022/10/IMG_20221014_230054.webp"><meta property="article:published_time" content="2022-10-15T16:10:41.000Z"><meta property="article:modified_time" content="2026-03-01T17:03:10.352Z"><meta property="article:author" content="Jiecs"><meta property="article:tag" content="Telegram"><meta property="article:tag" content="教程"><meta property="article:tag" content="日常"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://cdn.jiecs.top/img/2022/10/IMG_20221014_230054.webp"><title>Telegram Instant View 即时预览适配 - 杰出兽的小宇宙</title><link rel="stylesheet" href="https://unpkg.jiecs.top/bootstrap@4.6.1/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://unpkg.jiecs.top/hint.css@2.7.0/hint.min.css"><link rel="stylesheet" href="https://unpkg.jiecs.top/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"www.jiecs.top",root:"/",version:"1.9.8",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:["home"]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!1,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:1},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,follow_dnt:!0,baidu:null,google:{measurement_id:null},tencent:{sid:null,cid:null},leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1},umami:{src:null,website_id:null,domains:null,start_time:"2024-01-01T00:00:00.000Z",token:null,api_server:null}},search_path:"/local-search.xml",include_content_in_search:!0};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 8.1.1"><link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml"></head><body><style>footer{position:relative}.iframe-overlay,iframe[loading=lazy]{position:absolute;height:265px;width:300px;transform:scale(.9) translateY(-120px) translateX(25px);clip-path:inset(0 round 1.2rem);bottom:-100px;left:0;z-index:3;transition:transform .3s ease,clip-path .3s ease}.iframe-overlay{z-index:4;background:0 0;cursor:pointer;display:none}iframe[loading=lazy].expanded+.iframe-overlay{display:none}iframe[loading=lazy].expanded{transform:scale(1) scaleY(1) translateY(-120px) translateX(25px);clip-path:inset(0 0 0 0 round 1.2rem)}:root[data-user-color-scheme=light] iframe[loading=lazy]{filter:invert(1) hue-rotate(-200deg)}@media (max-width:1700px){.iframe-overlay,iframe[loading=lazy]{clip-path:inset(0 0 140px 0 round 1.2rem);transform:scale(.64)}iframe[loading=lazy]:hover{transform:scale(1) scaleY(1) translateY(-120px) translateX(25px);clip-path:inset(0 round 1.2rem)}.iframe-overlay{display:block}}@media (max-width:768px){.iframe-overlay,iframe[loading=lazy]{clip-path:inset(0 0 183px 0 round 1.2rem);bottom:-38px;transform:scale(.5) scaleY(.93);left:calc(50% - 150px)}iframe[loading=lazy]:hover{transform:scale(1) scaleY(1) translateY(-120px) translateX(0);clip-path:inset(0 0 0 0 round 1.2rem)}iframe[loading=lazy].expanded{transform:scale(.8) scaleY(1) translateY(-120px) translateX(0);clip-path:inset(0 0 0 0 round 1.2rem)}}</style><script>document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("footer"),t=document.createElement("iframe");t.frameBorder=0,t.src="https://support.nodeget.com/page/promotion?id=334%20|%20jiesou",t.loading="lazy";const n=document.createElement("div");n.className="iframe-overlay",n.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),t.classList.add("expanded")})),e.appendChild(t),e.appendChild(n),document.addEventListener("click",(function(e){t.contains(e.target)||t.classList.remove("expanded")}))}))</script><header><div class="header-inner" style="height:60vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>杰出兽的小宇宙</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/" target="_self"><i class="iconfont icon-home-fill"></i> <span>首页</span></a></li><li class="nav-item"><a class="nav-link" href="/categories/%E5%8A%A8%E6%80%81/" target="_self"><i class="iconfont icon-comment"></i> <span>动态</span></a></li><li class="nav-item"><a class="nav-link" href="/projects/" target="_self"><i class="iconfont icon-code"></i> <span>项目</span></a></li><li class="nav-item"><a class="nav-link" href="/about/" target="_self"><i class="iconfont icon-user-fill"></i> <span>关于</span></a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-link-fill"></i> <span>友链</span></a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="https://www.alongw.cn" target="_self"><span>阿龙博客</span></a></div></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" false style="background:url(https://cdn.jiecs.top/img/2022/10/IMG_20221014_230054.webp) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle">Telegram Instant View 即时预览适配</span></div><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2022-10-15 16:10" pubdate>2022年10月15日 下午</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 1.7k 字</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 id="seo-header">Telegram Instant View 即时预览适配</h1><div class="markdown-body"><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><p>Telegram 提供有一个 <em>Instant View</em> 功能，会在支持的网站的链接预览下面显示一个 Instant View 的按钮，中文一般叫即时预览，就是这个</p><p><img src="https://cdn.jiecs.top/img/2022/10/Screenshot_2022-10-14-20-19-42-359_nekox.messenger.webp" srcset="/img/loading.gif" lazyload alt="即时预览按钮"></p><p>点开之后能<strong>瞬间</strong>看到文章全部内容，没有任何等待，图片加载和格式也十分优雅。不需要跳转到浏览器，等待浏览器启动，再加载网页之类的，所有内容缓存在 Telegram 服务器上。体验连贯很多。只是浏览内容一定程度上也比打开网络更安全</p><p>如果格式不完整或需要进行互动比如点赞评论这种，用户也可以点菜单的“使用其它应用打开”直接跳转浏览器</p><p><img src="https://cdn.jiecs.top/img/2022/10/Screenshot_2022-10-14-20-26-15-058_nekox.messenger-edit.webp" srcset="/img/loading.gif" lazyload alt="使用其它应用打开"></p><p>另外，在点入的正文中还能添加你的频道传送条</p><p><img src="https://cdn.jiecs.top/img/2022/10/Screenshot_2022-10-14-20-40-51-966_nekox.messenger-edit.webp" srcset="/img/loading.gif" lazyload alt="加入 杰出兽的小宇宙 频道"></p><p>用户没有加入该频道时会显示蓝色的 <em>加入</em> 按钮，点进去直接跳转你的频道，能起到一定程度的引流作用</p><h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><p>但实际上这个即时预览是需要开发者&#x2F;网站方主动适配的，官网的介绍在<a target="_blank" rel="noopener" href="https://instantview.telegram.org/">此处</a>。不适配则只会读取 <code>meta</code> 标签中的一些内容显示一小段预览文本，没有“即时预览”按钮</p><p>而且你的适配不是对网站进行操作（比如像 PWA 一样加个 manifest），而是要在 Telegram 的后台管理界面上操作，整套后端代码也<strong>不是开源的</strong>。甚至就算你全做好了也没法让大家都用上你的配置，你只能在自己的频道或其它地方发 t.me 链接 <code>https://t.me/iv?url=https%3A%2F%2Fwww.jiecs.top&amp;rhash=abcdefg</code>。要想别人直接发你的网站链接就有即时预览<strong>要发起申请</strong>，但我估计短时间这玩意绝对申请不到的</p><p>另外，链接预览处图片<strong>不支持 Webp</strong>，虽然它 png、jpg 甚至视频都支持但就是不支持 Webp，直接不显示。即时预览里外都不支持 Webp，而且只要你文章里有任何一张它加载不出的图片就都没有即时预览按钮，Webp 如今作为已经广泛使用的高性能压缩格式这玩意不原生支持就很蛋疼（但本文会介绍解决办法）</p><h2 id="适配"><a href="#适配" class="headerlink" title="适配"></a>适配</h2><h3 id="添加模板"><a href="#添加模板" class="headerlink" title="添加模板"></a>添加模板</h3><p>但总之这玩意还是有用的，就算频道根本没人看自己看着也舒服，大大滴提升体验</p><p>这玩意的配置文件说是配置文件，实际上几乎就是一套高级编程语言，有常规的分支循环、变量、数据类型、输出，针对 DOM 元素支持 <code>append</code> <code>remove</code> 等操作，相当复杂。Telegram 官方提供了完整的配置编写<a target="_blank" rel="noopener" href="https://instantview.telegram.org/docs">文档</a>和配置<a target="_blank" rel="noopener" href="https://instantview.telegram.org/samples">演示</a></p><p>你要先到 <em>My Templates</em> 里输入自己的网站的链接创建模板和页面。这里注意链接要是你网站的任何一篇文章，可以选格式丰富的一篇，添加好之后之后是可以直接适配全部文章的</p><h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><p>这里提供一下我的配置文件</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">~allowed_origin:</span> <span class="hljs-string">&quot;https://www.jiecs.top&quot;</span><br><span class="hljs-string">?path:</span> <span class="hljs-string">/archives/.+</span><br><span class="hljs-string">@replace(&quot;^https://cdn.jiecs.top&quot;,</span> <span class="hljs-string">&quot;https://images.weserv.nl/?output=png&amp;default=www.jiecs.top/img/loading.gif&amp;url=blog-cdn-jiesou.vercel.app&quot;</span><span class="hljs-string">):</span> <span class="hljs-string">//img[contains(@src,</span> <span class="hljs-string">&quot;.webp&quot;</span><span class="hljs-string">)]/@src</span><br><span class="hljs-string">@replace(&quot;^https://cdn.jiecs.top&quot;,</span> <span class="hljs-string">&quot;https://images.weserv.nl/?output=png&amp;url=blog-cdn-jiesou.vercel.app&quot;</span><span class="hljs-string">):</span> <span class="hljs-string">//meta[@property=&quot;og:image&quot;][contains(@content,</span> <span class="hljs-string">&quot;.webp&quot;</span><span class="hljs-string">)]/@content</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">//a[has-class(&quot;navbar-brand&quot;)]&gt;storng</span><br><span class="hljs-attr">author:</span> <span class="hljs-string">&quot;Jiecs&quot;</span><br><span class="hljs-string">author_url:&quot;https://www.jiecs.top/about/&quot;</span><br><span class="hljs-attr">channel:</span> <span class="hljs-string">&quot;@jiecsChannel&quot;</span><br><span class="hljs-attr">body:</span> <span class="hljs-string">//div[has-class(&quot;markdown-body&quot;)]</span><br><span class="hljs-attr">cover:</span> <span class="hljs-string">//meta[@property=&quot;og:image&quot;]/@content</span><br></code></pre></td></tr></table></figure><h4 id="指定路径范围"><a href="#指定路径范围" class="headerlink" title="指定路径范围"></a>指定路径范围</h4><p>其中 <code>?path</code> 即对作用路径范围的限定</p><p><code>path</code> 后面是正则，例如我的文章链接是 <code>https://www.jiecs.top/archives/xxxx</code>，匹配它的正则就是 <code>/archives/.+</code>。<a target="_blank" rel="noopener" href="https://instantview.telegram.org/docs#path">文档</a></p><p>你在模板上添加的页面链接与此处配置不相干，那个页面链接只是让你照着那个链接开发，不是限定只能应用于那个链接。添加不同的页面就是添加不同的配置，同一模板可以作用于不同页面，<code>rhash</code> 也是相同的</p><h4 id="关于前缀"><a href="#关于前缀" class="headerlink" title="关于前缀"></a>关于前缀</h4><p>然后 <code>~allowed_origin</code> 以波浪 <code>~</code> 开头，表示它是个选项（option）。有不加和 <code>$@~?!</code> 之类的前缀，<a target="_blank" rel="noopener" href="https://instantview.telegram.org/docs#types-of-rules">文档</a>都有介绍，比如上面 <code>?path</code> 的问号即表示如果这个成立才执行下面的部分</p><p>至于 <code>allowed_origin</code> 的含义则很明显了，<a target="_blank" rel="noopener" href="https://instantview.telegram.org/docs#supported-options">文档</a></p><h4 id="支持-Webp"><a href="#支持-Webp" class="headerlink" title="支持 Webp"></a>支持 Webp</h4><p>然后下面一大串以 <code>@replace</code> 开头的代码就是在解决上文提到的不支持 Webp 问题。<a target="_blank" rel="noopener" href="https://images.weserv.nl/">https://images.weserv.nl</a> 是一个开源的图片代理镜像服务，它不仅能代理图片，还能调整大小、样式之类的，也能转换格式。直接访问链接有详细的文档和介绍，我用到了 <a target="_blank" rel="noopener" href="https://images.weserv.nl/docs/format.html#output">output</a> 设置输出的格式，和 <a target="_blank" rel="noopener" href="https://images.weserv.nl/docs/format.html#default-image">default</a> 设置当请求失败时返回的默认图片，防止因一张图片挂了，导致整篇文章都没有即时预览</p><p>还有它的 CDN 的 Cloudflare，虽然国内访问比较慢，但给 Telegram 的服务器肯定还是没问题的</p><p><code>@replace</code> 是 Telegram Instant View 提供的函数，<a target="_blank" rel="noopener" href="https://instantview.telegram.org/docs#replace">文档</a>，我用它图片链接把开头的 <code>https://cdn.jiecs.top</code> 替换成 images.weserv.nl 的链接。这里还把域名换成了 <code>blog-cdn-jiesou.vercel.app</code>，和 <code>cdn.jiecs.top</code> 是一样的，就是不知道为啥 images.weserv.nl 请求不到我的 <code>cdn.jiecs.top</code></p><p>下面的 <code>img[contains(@src, &quot;.webp&quot;)]</code> 就是匹配所有 <code>src</code> 属性中包含 <code>.webp</code> 字符串的 <code>img</code> 元素（不用 <code>end-with</code> 是考虑到部分图片有 URL Query）。后面的 <code>/@src</code> 表示让 <code>@replace</code> 替换该元素的 <code>src</code> 属性</p><p>下面重复了一遍代码，用 <code>meta[@property=&quot;og:image&quot;]</code> 匹配替换封面图片，同理</p><h4 id="XPath"><a href="#XPath" class="headerlink" title="XPath"></a>XPath</h4><p>除此之外，<code>//</code> 双斜杠开头的是 XPath 查询符，可以用来指定标题等，这里 Telegram 对 XPath 进行了一些加强，<a target="_blank" rel="noopener" href="https://instantview.telegram.org/docs#extended-xpath">文档</a>。比如 <a target="_blank" rel="noopener" href="https://instantview.telegram.org/docs#has-class"><code>has-class</code></a> 会自动把 class 按空格分开（正常情况 XPath 是严格按照属性匹配的）。元素查询不支持 CSS 选择器</p><h4 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h4><p>还有就是版本问题，正常情况应该要加个 <code>~version: &quot;2.1&quot;</code> 的，现在 2.1 是最新。但 2.0 开始把内部 <code>simplify</code> 函数<del>优化</del>了下，我的博客用上了就各种问题。反正不填版本默认 1.0 也能用</p><h3 id="在-Telegram-上查看"><a href="#在-Telegram-上查看" class="headerlink" title="在 Telegram 上查看"></a>在 Telegram 上查看</h3><p>最后，点击右上角 <em>VIEW IN TELEGRAM</em></p><p><img src="https://cdn.jiecs.top/img/2022/10/IMG_20221014_215658.webp" srcset="/img/loading.gif" lazyload alt="编辑器概览"></p><p>会跳转到 Telegram 分享链接，分享到收藏夹提取出其中的 <code>rhash</code> 即可，链接就是 <code>https://t.me/iv?url=xxx&amp;rhash=xxx</code>，其中 url 需要全部 url 编码</p><h2 id="成果"><a href="#成果" class="headerlink" title="成果"></a>成果</h2><p><img src="https://cdn.jiecs.top/img/2022/10/Screenshot_2022-10-14-22-07-32-014_nekox.messenger-edit.webp" srcset="/img/loading.gif" lazyload alt="频道中的文章都能直接点开"></p><p>还有这里频道的同步要编码 URL，用<a href="https://www.jiecs.top/archives/abfb43e/">之前介绍的 IFTTT</a> 可能不行。我是用的 Cloudflare Workers，搭配我的 <a target="_blank" rel="noopener" href="https://github.com/jiesou/Workers-RssTelegramForwarder">RssTelegramForwarder</a> 修改</p><p>我的频道在下方 Follow 页可以找到，就是简单的同步通知频道</p></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/%E7%AE%80%E5%8D%95%E6%95%99%E7%A8%8B/" class="category-chain-item">简单教程</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/%E6%97%A5%E5%B8%B8/" class="print-no-link">#日常</a> <a href="/tags/%E6%95%99%E7%A8%8B/" class="print-no-link">#教程</a> <a href="/tags/Telegram/" class="print-no-link">#Telegram</a></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/archives/1771d434/" title="零成本的博客高可用多冗余方案"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">零成本的博客高可用多冗余方案</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/archives/8ab5a33c/" title="部署 Trojan-Go + WS + Cloudflare 时遇到的坑"><span class="hidden-mobile">部署 Trojan-Go + WS + Cloudflare 时遇到的坑</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>目录</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="/follow" target="_blank" rel="nofollow noopener"><span>Follow</span></a> | <a href="/thanks" target="_blank" rel="nofollow noopener"><span>Thanks</span></a> | <a href="/privacy-policy" target="_blank" rel="nofollow noopener"><span>Privacy</span></a> | <a href="https://jiecs-status.betteruptime.com" target="_blank" rel="nofollow noopener"><span>Status</span></a><br>Jiecs All Rights Reserved</div><div class="beian"><span><a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">浙ICP备2021024503号</a></span></div></div></footer><script src="https://unpkg.jiecs.top/jquery@3.6.4/dist/jquery.min.js"></script><script src="https://unpkg.jiecs.top/bootstrap@4.6.1/dist/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://unpkg.jiecs.top/tocbot@4.20.1/dist/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var i=jQuery("#board-ctn").offset().top;window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-i},CONFIG.toc)),t.find(".toc-list-item").length>0&&t.css("visibility","visible"),Fluid.events.registerRefreshCallback((function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))}}))</script><script src="https://unpkg.jiecs.top/clipboard@2.0.11/dist/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://unpkg.jiecs.top/anchor-js@5.0.0/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback((function(){if("anchors"in window){anchors.removeAll();var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}}))}))</script><script>Fluid.utils.createScript("https://unpkg.jiecs.top/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript><script src="/js/resize_image.js"></script><link rel="stylesheet" href="https://unpkg.jiecs.top/@waline/client@3.6.0/dist/waline.css"><link rel="stylesheet" href="/css/post_custom.css"><script src="https://unpkg.jiecs.top/@waline/client@3.6.0/dist/waline.umd.js"></script><script src="/js/post_custom.js"></script><script>if(!/jiecs.top|localhost/.test(location.host)){/google|bing|baidu|sogou|soso|DuckDuckBot|yandex|msn/i.test(navigator.userAgent)&&(location.host="www.jiecs.top")}</script><script defer async>if(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack||"",dnt.startsWith("1")||dnt.startsWith("yes")||dnt.startsWith("on")){var footer=document.querySelector("div.footer-content");footer.innerHTML=footer.innerHTML+"<br>I don't track ;)"}else{!function(t,e,a,n,o,r,c){t[a]=t[a]||function(){(t[a].q=t[a].q||[]).push(arguments)},(r=e.createElement(n)).async=1,r.src="https://www.clarity.ms/tag/83h7yd1jzh",(c=e.getElementsByTagName(n)[0]).parentNode.insertBefore(r,c)}(window,document,"clarity","script");var _hmt=_hmt||[];!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?e2bcbf5019e3c05e7631d4a3081b10d9";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}();let t=document.createElement("script");function gtag(){dataLayer.push(arguments)}t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-8QKELED2GX",document.body.appendChild(t),window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-8QKELED2GX")}</script><script src="/js/custom.js"></script></body></html>